<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <!-- Google Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300..700&display=swap" rel="stylesheet" />
    <!-- Style CSS -->
    <link rel="stylesheet" href="style.css" />

    <title>Stepgraph</title>
  </head>
  <body onload="toggle()">
    <head>
      <h1 class="m-3 text-center fw-bold">Stepgraph</h1>
    </head>
    <nav class="d-flex justify-content-center">
      <ul class="nav nav-pills nav-fill" id="toogle">
        <li class="nav-item">
          <button class="nav-link fw-semibold active" id="encrypt">Encrypt</button>
        </li>
        <li class="nav-item">
          <button class="nav-link fw-semibold" id="decrypt">Decrypt</button>
        </li>
      </ul>
    </nav>

    <main class="d-flex mb-5">
      <section class="me-3">
        <div class="mb-3 file-input">
          <label for="inputImage" id="drop-area" class="mb-3">
            <input type="file" class="form-control" id="inputImage" accept="image/*" hidden />
            <div id="img-view" class="d-flex flex-column justify-content-center align-items-center">
              <img src="asset/img/file-icon.png" alt="File Icon" />
              <p class="fw-bold mb-1 text-center">Drag and drop or click here to upload image</p>
              <span>Upload any images from device</span>
            </div>
          </label>
        </div>

        <div class="mb-3" id="decrypt-content">
          <button type="button" class="btn btn-secondary mb-3" onclick="extractMessage()">Extract</button>

          <label for="ciphertext" class="mb-1 fw-bold">Ciphertext</label>
          <textarea class="form-control mb-3" placeholder="Message in chipertext will be shown here" id="ciphertext"></textarea>

          <label for="key" class="mb-1 fw-bold">Key</label>
          <input type="text" class="form-control mb-3" placeholder="elpsycongro" autocomplete="off" id="decryptPassword" />

          <button type="button" class="btn btn-secondary mb-3" onclick="decryptMessage()">Decrypt</button>

          <label for="message" class="mb-1 fw-bold">Message</label>
          <textarea class="form-control" placeholder="Message will be shown here" id="decryptedText"></textarea>
        </div>

        <div id="encrypt-content">
          <div class="mb-3">
            <label for="message" class="mb-1 fw-bold">Message</label>
            <textarea class="form-control" placeholder="I'm going to leave at 9pm" id="message"></textarea>
          </div>

          <div class="mb-3">
            <label for="key" class="mb-1 fw-bold">Key</label>
            <input type="text" class="form-control" placeholder="elpsycongro" id="password" autocomplete="off" />
          </div>

          <button type="button" class="btn btn-secondary" onclick="hideMessage()">Proceed</button>
        </div>
      </section>

      <section class="d-flex flex-column justify-content-center output-image">
        <div id="encrypt-content-2">
          <span>Image output will be shown here. Click image to download</span>
          <button class="btn" id="downloadButton" onclick="downloadImage()">
            <img id="outputImage" class="" />
          </button>
        </div>
      </section>
    </main>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="script.js"></script>
  </body>
</html>
